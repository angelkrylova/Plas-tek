!function(n){void 0==n.fn.inputmask&&(n.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:n.noop,onincomplete:n.noop,oncleared:n.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:n.noop,onKeyDown:n.noop,showMaskOnHover:!0,onKeyValidation:n.noop,numericInput:!1,radixPoint:".",definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,16,17,18,20,27,33,34,35,36,37,38,39,40,46,91,93,108]},val:n.fn.val},n.fn.inputmask=function(t,i){function lt(n){var t=document.createElement("input"),n="on"+n,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}function nt(t){var u=r.aliases[t];return u?(u.alias&&nt(u.alias),n.extend(!0,r,u),n.extend(!0,r,i),!0):!1}function tt(){var t=!1,u=0;1==r.mask.length&&0==r.greedy&&(r.placeholder="");for(var f=n.map(r.mask.split(""),function(n){var i=[],e,f;if(n==r.escapeChar)t=!0;else if(n!=r.optionalmarker.start&&n!=r.optionalmarker.end||t){if(e=r.definitions[n],e&&!t)for(f=0;f<e.cardinality;f++)i.push(y(u+f));else i.push(n),t=!1;return u+=i.length,i}}),i=f.slice(),e=1;e<r.repeat&&r.greedy;e++)i=i.concat(f.slice());return i}function it(){var t=!1,u=!1,i=!1;return n.map(r.mask.split(""),function(n){var e=[],f;if(n==r.escapeChar)u=!0;else if(n!=r.optionalmarker.start||u){if(n!=r.optionalmarker.end||u){if(f=r.definitions[n],f&&!u){for(var h=f.prevalidator,a=h?h.length:0,o=1;o<f.cardinality;o++){var c=a>=o?h[o-1]:[],s=c.validator,l=c.cardinality;e.push({fn:s?"string"==typeof s?new RegExp(s):new function(){this.test=s}:new RegExp("."),cardinality:l?l:1,optionality:t,newBlockMarker:1==t?i:!1,offset:0,casing:f.casing,def:n});1==t&&(i=!1)}e.push({fn:f.validator?"string"==typeof f.validator?new RegExp(f.validator):new function(){this.test=f.validator}:new RegExp("."),cardinality:f.cardinality,optionality:t,newBlockMarker:i,offset:0,casing:f.casing,def:n})}else e.push({fn:null,cardinality:0,optionality:t,newBlockMarker:i,offset:0,casing:null,def:n}),u=!1;return i=!1,e}t=!1;i=!0}else t=!0,i=!0})}function w(n,t,i,u){var s=!1;if(n>=0&&n<f()){for(var e=v(n),a=t?1:0,c="",l=o[e].cardinality;l>a;l--)c+=h(i,e-(l-1));t&&(c+=t);s=null!=o[e].fn?o[e].fn.test(c,i,n,u,r):!1}return setTimeout(r.onKeyValidation.call(this,s,r),0),s}function s(n){var i=v(n),t=o[i];return void 0!=t?t.fn:!1}function v(n){return n%o.length}function y(n){return r.placeholder.charAt(n%r.placeholder.length)}function f(){var n=u.length;return!r.greedy&&r.repeat>1&&(n+=u.length*(r.repeat-1)),n}function c(n,t){var r=f(),i;if(t>=r)return r;for(i=t;++i<r&&!s(i););return i}function b(n,t){var i=t;if(0>=i)return 0;for(;--i>0&&!s(i););return i}function p(n,t,i){var u=o[v(t)],r=i;if(void 0!=r)switch(u.casing){case"upper":r=i.toUpperCase();break;case"lower":r=i.toLowerCase()}n[t]=r}function h(n,t,i){return i&&(t=rt(n,t)),n[t]}function rt(n,t,i){var r;if(i)for(;0>t&&n.length<f();)for(r=u.length-1,t=u.length;void 0!==u[r];)n.unshift(u[r--]);else for(;void 0==n[t]&&n.length<f();)for(r=0;void 0!==u[r];)n.push(u[r++]);return t}function l(n,t,i){n._valueSet(t.join(""));void 0!=i&&(k?setTimeout(function(){e(n,i)},100):e(n,i))}function ut(n,t,i){for(var r=t,e=f();i>r&&e>r;r++)p(n,r,h(u.slice(),r))}function d(n,t){var i=v(t);p(n,t,h(u,i))}function a(t,i,e,a){var rt=n(t).data("inputmask").isRTL,ft=g(t._valueGet(),rt).split(""),nt,tt,k,et,b,it,at;if(rt){for(nt=f(),tt=ft.reverse(),tt.length=nt,k=0;nt>k;k++)et=v(nt-(k+1)),null==o[et].fn&&tt[k]!=h(u,et)?(tt.splice(k,0,h(u,et)),tt.length=nt):tt[k]=tt[k]||h(u,et);ft=tt.reverse()}ut(i,0,i.length);i.length=u.length;for(var st,ht=-1,ot=-1,nt=f(),ct=ft.length,lt=0==ct?nt:-1,k=0;ct>k;k++)for(b=ot+1;nt>b;b++){if(s(b)){it=ft[k];(st=w(b,it,i,!e))!==!1?(st!==!0&&(b=st.pos||b,it=st.c||it),p(i,b,it),ht=ot=b):(d(i,b),it==y(b)&&(ot=b,lt=b));break}if(d(i,b),ht==ot&&(ht=b),ot=b,ft[k]==h(i,b))break}if(0==r.greedy)for(at=g(i.join(""),rt).split("");i.length!=at.length;)rt?i.shift():i.pop();return e&&l(t,i),rt?r.numericInput?-1!=n.inArray(r.radixPoint,i)&&a!==!0?n.inArray(r.radixPoint,i):c(i,nt):c(i,lt):c(i,ht)}function ot(n){return n.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}function g(n,t){return t?n.replace(new RegExp("^("+ot(u.join(""))+")*"),""):n.replace(new RegExp("("+ot(u.join(""))+")*$"),"")}function ft(t,i){var u,r,f;if(a(t,i,!1),u=i.slice(),n(t).data("inputmask").isRTL)for(r=0;r<=u.length-1;r++){if(f=v(r),!o[f].optionality)break;if(y(r)!=i[r]&&s(r))break;u.splice(0,1)}else for(r=u.length-1;r>=0;r--){if(f=v(r),!o[f].optionality)break;if(y(r)!=i[r]&&s(r))break;u.pop()}l(t,u)}function st(t,i){var f=t[0],r;return!o||i!==!0&&t.hasClass("hasDatepicker")?f._valueGet():(r=u.slice(),a(f,r),n.map(r,function(n,t){return s(t)&&n!=h(u.slice(),t)?n:null}).join(""))}function e(n,t,i){var u=n.jquery&&n.length>0?n[0]:n,e,o,f;if("number"!=typeof t)return e=k?o:null,o=null,null==e&&(u.setSelectionRange?(t=u.selectionStart,i=u.selectionEnd):document.selection&&document.selection.createRange&&(f=document.selection.createRange(),t=0-f.duplicate().moveStart("character",-1e5),i=t+f.text.length),e={begin:t,end:i}),e;(i="number"==typeof i?i:t,0==r.insertMode&&t==i&&i++,u.setSelectionRange)?u.setSelectionRange(t,i):u.createTextRange&&(f=u.createTextRange(),f.collapse(!0),f.moveEnd("character",i),f.moveStart("character",t),f.select());u.focus();k&&i!=u.selectionEnd&&(o={begin:t,end:i})}function et(t){function ht(n){for(var i=!0,r=n._valueGet(),u=r.length,t=0;u>t;t++)if(s(t)&&r.charAt(t)==y(t)){i=!1;break}return i}function kt(t){var i=n._data(t).events;n.each(i,function(i,r){n(t).bind(i+".inputmask",function(n){if(this.readOnly||this.disabled)return(n.stopPropagation(),n.stopImmediatePropagation(),n.preventDefault(),!1)});for(var f=r[r.length-1],u=r.length-1;u>0;u--)r[u]=r[u-1];r[0]=f})}function dt(t){var i;Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(t,"value"));i&&i.get?t._valueGet||(t._valueGet=i.get,t._valueSet=i.set,Object.defineProperty(t,"value",{get:function(){var i=n(this),t=n(this).data("inputmask");return t&&t.autoUnmask?i.inputmask("unmaskedvalue"):this._valueGet()!=t._buffer.join("")?this._valueGet():""},set:function(t){this._valueSet(t);n(this).triggerHandler("setvalue.inputmask")}})):document.__lookupGetter__&&t.__lookupGetter__("value")?t._valueGet||(t._valueGet=t.__lookupGetter__("value"),t._valueSet=t.__lookupSetter__("value"),t.__defineGetter__("value",function(){var i=n(this),t=n(this).data("inputmask");return t&&t.autoUnmask?i.inputmask("unmaskedvalue"):this._valueGet()!=t._buffer.join("")?this._valueGet():""}),t.__defineSetter__("value",function(t){this._valueSet(t);n(this).triggerHandler("setvalue.inputmask")})):(t._valueGet||(t._valueGet=function(){return this.value},t._valueSet=function(n){this.value=n}),1!=n.fn.val.inputmaskpatch&&(n.fn.val=function(){var t,i,r;return 0==arguments.length?(t=n(this),t.data("inputmask"))?t.data("inputmask").autoUnmask?t.inputmask("unmaskedvalue"):(i=n.inputmask.val.apply(t),i!=t.data("inputmask")._buffer.join("")?i:""):n.inputmask.val.apply(t):(r=arguments,this.each(function(){var t=n(this),i=n.inputmask.val.apply(t,r);return t.data("inputmask")&&t.triggerHandler("setvalue.inputmask"),i}))},n.extend(n.fn.val,{inputmaskpatch:!0})))}function yt(n,t,r){for(var e,l,a;!s(n)&&n-1>=0;)n--;for(e=n;t>e&&e<f();e++)if(s(e)){if(d(i,e),l=c(i,e),a=h(i,l),a!=y(l)){if(l<f()&&w(e,a,i,!0)!==!1&&o[v(e)].def==o[v(l)].def)p(i,e,h(i,l)),d(i,l);else if(s(e))break}else if(void 0==r)break}else d(i,e);return void 0!=r&&p(i,nt?t:b(i,t),r),i=g(i.join(""),nt).split(""),0==i.length&&(i=u.slice()),n}function pt(n,t,r,e){for(var a,b,k,l=n;t>=l&&l<f();l++)if(s(l)){if(a=h(i,l),p(i,l,r),a!=y(l)){if(b=c(i,l),!(b<f()))break;if(w(b,a,i,!0)!==!1&&o[v(l)].def==o[v(b)].def)r=a;else{if(s(b))break;r=a}}else if(e!==!0)break}else d(i,l);return k=i.length,i=g(i.join(""),nt).split(""),0==i.length&&(i=u.slice()),t-(k-i.length)}function gt(t){var k,w,b,v,p;ct=!1;var s=this,h=t.keyCode,o=e(s);if(r.numericInput&&(k=s._valueGet(),w=k.indexOf(r.radixPoint),-1!=w&&(nt=o.begin<=w||o.end<=w)),h==r.keyCode.BACKSPACE||h==r.keyCode.DELETE||vt&&127==h)return b=f(),0==o.begin&&o.end==b?(i=u.slice(),l(s,i),e(s,a(s,i,!1))):o.end-o.begin>1||o.end-o.begin==1&&r.insertMode?(ut(i,o.begin,o.end),l(s,i,nt?a(s,i,!1):o.begin)):(v=o.begin-(h==r.keyCode.DELETE?0:1),et>v&&h==r.keyCode.DELETE&&(v=et),v>=et&&(r.numericInput&&r.greedy&&h==r.keyCode.DELETE&&i[v]==r.radixPoint&&(v=c(i,v),nt=!1),nt?(v=pt(et,v,y(v),!0),v=r.numericInput&&r.greedy&&h==r.keyCode.BACKSPACE&&i[v+1]==r.radixPoint?v+1:c(i,v)):v=yt(v,b),l(s,i,v))),s._valueGet()==u.join("")&&n(s).trigger("cleared"),!1;if(h==r.keyCode.END||h==r.keyCode.PAGE_DOWN)return setTimeout(function(){var n=a(s,i,!1,!0);r.insertMode||n!=f()||t.shiftKey||n--;e(s,t.shiftKey?o.begin:n,n)},0),!1;if(h==r.keyCode.HOME||h==r.keyCode.PAGE_UP)return e(s,0,t.shiftKey?o.begin:0),!1;if(h==r.keyCode.ESCAPE)return s._valueSet(st),e(s,0,a(s,i)),!1;if(h==r.keyCode.INSERT)return r.insertMode=!r.insertMode,e(s,r.insertMode||o.begin!=f()?o.begin:o.begin-1),!1;if(t.ctrlKey&&88==h)setTimeout(function(){e(s,a(s,i,!0))},0);else if(!r.insertMode){if(h==r.keyCode.RIGHT)return p=o.begin==o.end?o.end+1:o.end,p=p<f()?p:o.end,e(s,t.shiftKey?o.begin:p,t.shiftKey?p+1:p),!1;if(h==r.keyCode.LEFT)return p=o.begin-1,p=p>0?p:0,e(s,p,t.shiftKey?o.end:p),!1}r.onKeyDown.call(this,t,r);wt=-1!=n.inArray(h,r.ignorables)}function ni(t){var o,it,ft,lt,st,v,at,d,u,g,ot,vt;if(ct)return!1;if(ct=!0,o=this,it=n(o),t=t||window.event,ft=t.which||t.charCode||t.keyCode,r.numericInput&&ft==r.radixPoint.charCodeAt(r.radixPoint.length-1)&&(lt=o._valueGet(),st=lt.indexOf(r.radixPoint),e(o,c(i,-1!=st?st:f()))),t.ctrlKey||t.altKey||t.metaKey||wt)return!0;if(ft){it.trigger("input");var a=e(o),s=String.fromCharCode(ft),tt=f();if(ut(i,a.begin,a.end),nt)if(u=r.numericInput?a.end:b(i,a.end),(d=w(u==tt||h(i,u)==r.radixPoint?b(i,u):u,s,i,!1))!==!1){if(d!==!0&&(u=d.pos||a,s=d.c||s),v=et,1==r.insertMode){if(1==r.greedy)for(ot=i.slice();h(ot,v,!0)!=y(v)&&u>=v;)v=v==tt?tt+1:c(i,v);if(!(u>=v&&(r.greedy||i.length<tt)))return!1;i[et]!=y(et)&&i.length<tt&&(at=rt(i,-1,nt),0!=a.end&&(u+=at),tt=i.length);yt(v,r.numericInput?b(i,u):u,s)}else p(i,r.numericInput?b(i,u):u,s);l(o,i,r.numericInput&&0==u?c(i,u):u);setTimeout(function(){ht(o)&&it.trigger("complete")},0)}else k&&l(o,i,a.begin);else if(u=c(i,a.begin-1),rt(i,u,nt),(d=w(u,s,i,!1))!==!1){if(d!==!0&&(u=d.pos||u,s=d.c||s),1==r.insertMode){for(g=f(),ot=i.slice();h(ot,g,!0)!=y(g)&&g>=u;)g=0==g?-1:b(i,g);if(!(g>=u))return!1;pt(u,i.length,s)}else p(i,u,s);vt=c(i,u);l(o,i,vt);setTimeout(function(){ht(o)&&it.trigger("complete")},0)}else k&&l(o,i,a.begin);return!1}}function ti(t){var o=n(this),f=this,s=t.keyCode;r.onKeyUp.call(this,t,r);s==r.keyCode.TAB&&o.hasClass("focus.inputmask")&&0==f._valueGet().length&&(i=u.slice(),l(f,i),nt||e(f,0),st=f._valueGet())}var tt=n(t),ot,lt,bt;if(tt.is(":input")){r.greedy=r.greedy?r.greedy:0==r.repeat;ot=tt.prop("maxLength");f()>ot&&ot>-1&&(ot<u.length&&(u.length=ot),0==r.greedy&&(r.repeat=Math.round(ot/u.length)),tt.prop("maxLength",2*f()));tt.data("inputmask",{tests:o,_buffer:u,greedy:r.greedy,repeat:r.repeat,autoUnmask:r.autoUnmask,definitions:r.definitions,isRTL:!1});dt(t);var i=u.slice(),st=t._valueGet(),ct=!1,wt=!1,it=-1,et=c(i,-1),nt=(b(i,f()),!1);("rtl"==t.dir||r.numericInput)&&(t.dir="ltr",tt.css("text-align","right"),tt.removeAttr("dir"),lt=tt.data("inputmask"),lt.isRTL=!0,tt.data("inputmask",lt),nt=!0);tt.unbind(".inputmask");tt.removeClass("focus.inputmask");tt.bind("mouseenter.inputmask",function(){var e=n(this),f=this,t;!e.hasClass("focus.inputmask")&&r.showMaskOnHover&&(t=f._valueGet().length,t<i.length&&(0==t&&(i=u.slice()),l(f,i)))}).bind("blur.inputmask",function(){var f=n(this),t=this,e=t._valueGet();f.removeClass("focus.inputmask");e!=st&&f.change();r.clearMaskOnLostFocus&&(e==u.join("")?t._valueSet(""):ft(t,i));ht(t)||(f.trigger("incomplete"),r.clearIncomplete&&(r.clearMaskOnLostFocus?t._valueSet(""):(i=u.slice(),l(t,i))))}).bind("focus.inputmask",function(){var o=n(this),t=this,f;o.hasClass("focus.inputmask")||r.showMaskOnHover||(f=t._valueGet().length,f<i.length&&(0==f&&(i=u.slice()),e(t,a(t,i,!0))));o.addClass("focus.inputmask");st=t._valueGet()}).bind("mouseleave.inputmask",function(){var f=n(this),t=this;r.clearMaskOnLostFocus&&(f.hasClass("focus.inputmask")||(t._valueGet()==u.join("")||""==t._valueGet()?t._valueSet(""):ft(t,i)))}).bind("click.inputmask",function(){var n=this;setTimeout(function(){var r=e(n),t;r.begin==r.end&&(t=r.begin,it=a(n,i,!1),nt?e(n,t>it&&(w(t,i[t],i,!0)!==!1||!s(t))?t:it):e(n,it>t&&(w(t,i[t],i,!0)!==!1||!s(t))?t:it))},0)}).bind("dblclick.inputmask",function(){var n=this;setTimeout(function(){e(n,0,it)},0)}).bind("keydown.inputmask",gt).bind("keypress.inputmask",ni).bind("keyup.inputmask",ti).bind(at+".inputmask, dragdrop.inputmask, drop.inputmask",function(){var n=this;setTimeout(function(){e(n,a(n,i,!0))},0)}).bind("setvalue.inputmask",function(){var n=this;st=n._valueGet();a(n,i,!0);n._valueGet()==u.join("")&&n._valueSet("")}).bind("complete.inputmask",r.oncomplete).bind("incomplete.inputmask",r.onincomplete).bind("cleared.inputmask",r.oncleared);it=a(t,i,!0);try{bt=document.activeElement}catch(ii){}bt===t?(tt.addClass("focus.inputmask"),e(t,it)):r.clearMaskOnLostFocus&&(t._valueGet()==u.join("")?t._valueSet(""):ft(t,i));kt(t)}}var r=n.extend(!0,{},n.inputmask.defaults,i),at=lt("paste")?"paste":"input",vt=null!=navigator.userAgent.match(/iphone/i),k=null!=navigator.userAgent.match(/android.*mobile safari.*/i),ht,ct,u,o;if(k&&(ht=navigator.userAgent.match(/mobile safari.*/i),ct=parseInt(new RegExp(/[0-9]+/).exec(ht)),k=533>=ct),"string"==typeof t)switch(t){case"mask":return u=tt(),o=it(),this.each(function(){et(this)});case"unmaskedvalue":return o=this.data("inputmask").tests,u=this.data("inputmask")._buffer,r.greedy=this.data("inputmask").greedy,r.repeat=this.data("inputmask").repeat,r.definitions=this.data("inputmask").definitions,st(this);case"remove":return this.each(function(){var i=n(this),t=this;setTimeout(function(){if(i.data("inputmask")){o=i.data("inputmask").tests;u=i.data("inputmask")._buffer;r.greedy=i.data("inputmask").greedy;r.repeat=i.data("inputmask").repeat;r.definitions=i.data("inputmask").definitions;t._valueSet(st(i,!0));i.removeData("inputmask");i.unbind(".inputmask");i.removeClass("focus.inputmask");var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value"));n&&n.get?t._valueGet&&Object.defineProperty(t,"value",{get:t._valueGet,set:t._valueSet}):document.__lookupGetter__&&t.__lookupGetter__("value")&&t._valueGet&&(t.__defineGetter__("value",t._valueGet),t.__defineSetter__("value",t._valueSet));delete t._valueGet;delete t._valueSet}},0)});case"getemptymask":return this.data("inputmask")?this.data("inputmask")._buffer.join(""):"";case"hasMaskedValue":return this.data("inputmask")?!this.data("inputmask").autoUnmask:!1;default:return nt(t)||(r.mask=t),u=tt(),o=it(),this.each(function(){et(this)})}return"object"==typeof t?(r=n.extend(!0,{},n.inputmask.defaults,t),nt(r.alias),u=tt(),o=it(),this.each(function(){et(this)})):this})}(jQuery);